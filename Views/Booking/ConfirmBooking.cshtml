@{
    ViewBag.Title = "Booking Confirmed";
}

<h2>Booking Confirmed</h2>

<div id="bookingDetails" class="container">
    <!-- Details will be populated by JavaScript -->
</div>

@section scripts {
    <script>
        $(document).ready(function () {
            const booking = JSON.parse(localStorage.getItem('currentBooking'));
            if (booking) {
                const html = `
                    <div class="card">
                        <div class="card-header">
                            <h5>Booking Details</h5>
                        </div>
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <p><strong>Booking ID:</strong> ${booking.bookingID}</p>
                                    <p><strong>Date Booked:</strong> ${new Date(booking.bookingDate).toLocaleString()}</p>
                                    <p><strong>Service Type:</strong> ${booking.serviceType}</p>
                                    <p><strong>Pick-Up Time:</strong> ${booking.bookingPickUp}</p>
                                    <p><strong>Reason:</strong> ${booking.bookingReason}</p>
                                    <p><strong>Address:</strong> ${booking.bookingPickupAddress}</p>
                                </div>
                                <div class="col-md-6">
                                    <h5>Driver Details</h5>
                                    <p><strong>Name:</strong> ${booking.driverDetails.driverFirstName} ${booking.driverDetails.driverLastName}</p>
                                    <p><strong>Phone:</strong> ${booking.driverDetails.driverPhoneNumber}</p>
                                    <p><strong>Service:</strong> ${booking.driverDetails.driverServiceType}</p>

                                    <h5 class="mt-3">Vehicle Details</h5>
                                    <p><strong>Type:</strong> ${booking.vehicleDetails.vehicleType}</p>
                                    <p><strong>Registration:</strong> ${booking.vehicleDetails.vehicleRegistration}</p>
                                    <p><strong>Service:</strong> ${booking.vehicleDetails.vehicleServiceType}</p>
                                </div>
                            </div>
                        </div>
                        <div class="card-footer">
                            <a href="@Url.Action("HomePage", "Booking")" class="btn btn-primary">Return Home</a>
                        </div>
                    </div>
                `;
                $('#bookingDetails').html(html);
            } else {
                $('#bookingDetails').html(`
                    <div class="alert alert-warning">
                        No booking information found.
                        <a href="@Url.Action("SelectService", "Booking")" class="alert-link">Create a new booking</a>
                    </div>
                `);
            }
        });
    </script>
}